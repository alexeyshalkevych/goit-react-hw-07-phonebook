(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{105:function(n,e,t){n.exports=t(140)},139:function(n,e,t){},140:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(29),c=t.n(o),u=t(18),i=t(102),s=t(38),l=t(76),p=t(75),b=p.b().shape({name:p.c().min(3,"Must be longer than 2 characters").max(20,"Nice try, nobody has a first name that long").required("Required"),number:p.a().min(777777,"Must be longer than 6 characters").required("Required")}),f=t(6),m=t(7);function d(){var n=Object(f.a)(["\n  display: block;\n  width: 100%;\n  padding: 10px 5px;\n  font-family: sans-serif;\n  font-size: 14px;\n  line-height: 1.2;\n  font-weight: 400;\n  color: #fff;\n  background-color: rgb(0, 106, 177);\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0px 2px 2px -1px rgba(0, 0, 0, 0.75);\n  transition: all 0.2s ease-in;\n\n  :hover {\n    cursor: pointer;\n    background-color: rgb(19, 19, 138);\n  }\n\n  :disabled {\n    cursor: default;\n    background-color: rgb(85, 85, 85);\n  }\n"]);return d=function(){return n},n}function x(){var n=Object(f.a)(["\n  margin: 0;\n  color: red;\n  margin-bottom: 10px;\n"]);return x=function(){return n},n}function E(){var n=Object(f.a)(["\n  display: block;\n  width: 100%;\n  margin-bottom: 15px;\n  padding: 8px 5px;\n  border-radius: 4px;\n  border: 1px solid rgb(126, 126, 126);\n\n  :focus {\n    border-color: rgb(0, 106, 177);\n    outline: none;\n  }\n"]);return E=function(){return n},n}function C(){var n=Object(f.a)(["\n  font-family: sans-serif;\n  font-size: 16px;\n  line-height: 1.2;\n  font-weight: 500;\n"]);return C=function(){return n},n}function h(){var n=Object(f.a)(["\n  width: 100%;\n  margin-bottom: 20px;\n  padding: 10px;\n  box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.59);\n\n  input[type='number']::-webkit-inner-spin-button,\n  input[type='number']::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n"]);return h=function(){return n},n}var v=m.b.form(h()),O=m.b.label(C()),g=m.b.input(E()),T=m.b.div(x()),y=m.b.button(d()),j=function(n){var e=n.addContact;return a.a.createElement(l.b,{initialValues:{name:"",number:0},validationSchema:b,onSubmit:function(n,t){var r=t.resetForm;e(Object(s.a)({},n)),r({})}},(function(n){var e=n.values,t=n.handleChange,r=n.handleSubmit,o=n.isSubmitting;return a.a.createElement(v,{onSubmit:r},a.a.createElement(O,{htmlFor:"name"},"Name",a.a.createElement(g,{id:"name",type:"text",name:"name",value:e.name,onChange:t}),a.a.createElement(l.a,{name:"name",component:T})),a.a.createElement(O,{htmlFor:"number"},"Number",a.a.createElement(g,{id:"number",type:"number",name:"number",value:0===e.number?"":e.number,onChange:t}),a.a.createElement(l.a,{name:"number",component:T})),a.a.createElement(y,{type:"submit",disabled:o},"Add contact"))}))},_=Object(u.b)(null,(function(n){return{addContact:function(e){return n({type:"ADD_CONTACT",contact:e})}}}))(j),w=t(141),S=t(97),A=t.n(S);function R(){var n=Object(f.a)(["\n  padding-top: 25px;\n  text-align: center;\n"]);return R=function(){return n},n}var N=m.b.div(R()),k=(t(133),function(){return a.a.createElement(N,null,a.a.createElement(A.a,{type:"ThreeDots",color:"#13138a",height:50,width:50,timeout:3e3}))});function D(){var n=Object(f.a)(["\n  display: block;\n  padding: 5px 10px;\n  font-family: sans-serif;\n  font-size: 16px;\n  line-height: 1.2;\n  font-weight: 400;\n  color: rgb(255, 255, 255);\n  background-color: rgb(218, 1, 1);\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0px 2px 2px -1px rgba(0, 0, 0, 0.75);\n  transition: all 0.2s ease-in;\n\n  :hover {\n    cursor: pointer;\n    background-color: rgb(170, 0, 0);\n  }\n"]);return D=function(){return n},n}function F(){var n=Object(f.a)(["\n  margin-right: 50px;\n"]);return F=function(){return n},n}function L(){var n=Object(f.a)(["\n  flex: 1 0 auto;\n"]);return L=function(){return n},n}function U(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return U=function(){return n},n}var H=m.b.div(U()),z=m.b.span(L()),Q=m.b.span(F()),X=m.b.button(D()),I=function(n){var e=n.contact,t=e.id,r=e.name,o=e.number,c=n.deleteContact;return a.a.createElement(H,null,a.a.createElement(z,null,r),a.a.createElement(Q,null,o),a.a.createElement(X,{type:"button",onClick:function(){return c(t)}},"\u2716"))},q=Object(u.b)(null,(function(n){return{deleteContact:function(e){return n({type:"DELETE_CONTACT",id:e})}}}))(I);function B(){var n=Object(f.a)(["\n  padding: 10px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.59);\n"]);return B=function(){return n},n}function G(){var n=Object(f.a)(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]);return G=function(){return n},n}var M=m.b.ul(G()),P=(m.b.li(B()),t(51));function W(){var n=Object(f.a)(["\n  padding: 10px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.59);\n\n  &:enter { \n    opacity: 0;\n    transform: translateX(-100%); \n  }\n\n  &:enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 250ms ease-in-out, transform 250ms ease-in-out;\n  }\n\n  &:exit { \n    opacity: 1;\n    transform: translateX(0);\n  }\n\n  &:exit-active {\n    opacity: 0;\n    transform: translateX(-100%);\n    transition: opacity 250ms ease-in-out, transform 250ms ease-in-out;\n  }\n"]);return W=function(){return n},n}var J=P.a.li.attrs({unmountOnExit:!0,timeout:250})(W()),K=function(n){var e=n.contacts,t=n.loader;return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{component:M},e.map((function(n){return a.a.createElement(J,{key:n.id},a.a.createElement(q,{contact:n}))}))),t&&a.a.createElement(k,null))},V=t(99),Z=function(n){return n.filter},Y=function(n){return n.contacts},$=Object(V.a)([Y,Z],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),nn=function(n){return n.loader},en=Object(u.b)((function(n){return{contacts:$(n),loader:nn(n)}}))(K);function tn(){var n=Object(f.a)(["\n  display: block;\n  width: 100%;\n  padding: 8px 5px;\n  border-radius: 4px;\n  border: 1px solid rgb(126, 126, 126);\n\n  :focus {\n    border-color: rgb(0, 106, 177);\n    outline: none;\n  }\n"]);return tn=function(){return n},n}function rn(){var n=Object(f.a)(["\n  font-family: sans-serif;\n  font-size: 16px;\n  line-height: 1.2;\n  font-weight: 500;\n"]);return rn=function(){return n},n}function an(){var n=Object(f.a)(["\n  width: 100%;\n  margin-bottom: 20px;\n  padding: 10px 10px 15px;\n  box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.59);\n"]);return an=function(){return n},n}m.b.div(an());var on=m.b.label(rn()),cn=m.b.input(tn()),un=function(n){var e=n.filter,t=n.changeFilter;return a.a.createElement(on,null,"Find contacts by name",a.a.createElement(cn,{type:"text",value:e,onChange:function(n){return t(n.target.value)}}))},sn={changeFilter:function(n){return{type:"CHANGE_FILTER",payload:n}}},ln=Object(u.b)((function(n){return{filter:Z(n)}}),sn)(un);function pn(){var n=Object(f.a)(["\n  margin: 0 auto;\n  max-width: 900px;\n  text-align: center;\n  color: rgb(85, 185, 185);\n  font-size: 4rem;\n"]);return pn=function(){return n},n}function bn(){var n=Object(f.a)(["\n  max-width: 100%;\n  height: 100vh;\n  margin: 0;\n  padding-top: 50px;\n  background-color: rgb(0, 106, 177);\n"]);return bn=function(){return n},n}var fn=m.b.div(bn()),mn=m.b.h1(pn()),dn=function(){return a.a.createElement(fn,null,a.a.createElement(mn,null,"Something went wrong :( Please try again later."))},xn=t(69);function En(){var n=Object(f.a)(["\n  top: -5px;\n  right: 37%;\n  padding: 6px 4px;\n  margin: 0;\n  width: 210px;\n  .Toastify__close-button {\n    display: none;\n  }\n"]);return En=function(){return n},n}function Cn(){var n=Object(f.a)(["\n  margin: 0 0 10px 0;\n  font-family: sans-serif;\n  font-size: 20px;\n  line-height: 1.2;\n  font-weight: 900;\n  color: rgb(0, 106, 177);\n"]);return Cn=function(){return n},n}function hn(){var n=Object(f.a)(["\n  margin: 0 0 10px 0;\n  font-family: sans-serif;\n  font-size: 30px;\n  line-height: 1.2;\n  font-weight: 900;\n  color: rgb(0, 106, 177);\n"]);return hn=function(){return n},n}function vn(){var n=Object(f.a)(["\n  max-width: 400px;\n  min-width: 310px;\n  margin: 0 auto;\n  padding: 30px 5px 0 5px;\n"]);return vn=function(){return n},n}var On=m.b.div(vn()),gn=m.b.h1(hn()),Tn=m.b.h2(Cn()),yn=Object(m.b)(xn.a)(En());function jn(){var n=Object(f.a)(["\n  &:enter { \n    opacity: 0;\n    transform: translateX(-100%); \n  }\n\n  &:enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 500ms ease-in-out, transform 500ms ease-in-out;\n  }\n\n  &:exit { \n    opacity: 1;\n    transform: translateX(0);\n  }\n\n  &:exit-active {\n    opacity: 0;\n    transform: translateX(-100%);\n    transition: opacity 500ms ease-in-out, transform 500ms ease-in-out;\n  }\n"]);return jn=function(){return n},n}var _n=P.a.div.attrs({unmountOnExit:!0,timeout:500})(jn());function wn(){var n=Object(f.a)(["\n  width: 100%;\n  margin-bottom: 20px;\n  padding: 10px 10px 15px;\n  box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.59);\n\n  &:enter {\n    transform: scale(0);\n  }\n\n  &:enter-active {\n    transform: scale(1);\n    transition: transform 250ms ease-in-out;\n  }\n\n  &:exit {\n    transform: scale(1);\n  }\n\n  &:exit-active {\n    transform: scale(0);\n    transition: transform 250ms ease-in-out;\n  }\n"]);return wn=function(){return n},n}var Sn=P.a.div.attrs({unmountOnExit:!0,timeout:250})(wn()),An=(t(135),function(n){var e=n.contacts,t=n.getAllContacts,o=n.error,c=Object(r.useState)(!1),u=Object(i.a)(c,2),s=u[0],l=u[1];return Object(r.useEffect)((function(){l(!0),t()}),[t]),a.a.createElement(a.a.Fragment,null,o?a.a.createElement(dn,null):a.a.createElement(On,null,a.a.createElement(_n,{in:s},a.a.createElement(gn,null,"Phonebook")),a.a.createElement(_,null),a.a.createElement(Tn,null,"Contacts"),a.a.createElement(Sn,{in:e.length>=2},a.a.createElement(ln,null)),a.a.createElement(en,null),a.a.createElement(yn,{autoClose:1500})))});An.defaultProps={error:null};var Rn=An,Nn=function(n){return n.error},kn=Object(u.b)((function(n){return{contacts:Y(n),error:Nn(n)}}),(function(n){return{getAllContacts:function(){return n({type:"FETCH_CONTACTS"})}}}))(Rn),Dn=function(){return a.a.createElement(kn,null)},Fn=t(23),Ln=t(100),Un=t(71),Hn=t(77),zn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case"FETCH_CONTACTS_SUCCESS":return[].concat(Object(Hn.a)(n),Object(Hn.a)(r));case"ADD_CONTACT_SUCCESS":return[].concat(Object(Hn.a)(n),[r]);case"DELETE_CONTACT_SUCCESS":var a=n.filter((function(n){return n.id!==r}));return a;default:return n}},Qn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case"CHANGE_FILTER":return r;default:return n}},Xn=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_CONTACTS_REQUEST":case"ADD_CONTACT_REQUEST":case"DELETE_CONTACT_REQUEST":return!0;case"FETCH_CONTACTS_SUCCESS":case"FETCH_CONTACTS_ERROR":case"ADD_CONTACT_SUCCESS":case"ADD_CONTACT_ERROR":case"DELETE_CONTACT_SUCCESS":case"DELETE_CONTACT_ERROR":return!1;default:return n}},In=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case"FETCH_CONTACTS_REQUEST":case"ADD_CONTACT_REQUEST":case"DELETE_CONTACT_REQUEST":return null;case"FETCH_CONTACTS_ERROR":case"ADD_CONTACT_ERROR":case"DELETE_CONTACT_ERROR":return r.error;default:return n}},qn=t(14),Bn=t.n(qn),Gn=t(11),Mn=function(n){return{type:"ADD_CONTACT_SUCCESS",payload:n}},Pn=function(n){return{type:"DELETE_CONTACT_SUCCESS",payload:n}},Wn=function(n){return Object.keys(n).map((function(e){return Object(s.a)({id:e},n[e])}))},Jn=t(101),Kn=t(82),Vn=t.n(Kn);t(137);Vn.a.initializeApp({apiKey:"AIzaSyB5C9TFen33SpV4L049IwBSWcCyBzTKzmw",authDomain:"redux-async-phonebook.firebaseapp.com",databaseURL:"https://redux-async-phonebook.firebaseio.com",projectId:"redux-async-phonebook",storageBucket:"redux-async-phonebook.appspot.com",messagingSenderId:"213467596209",appId:"1:213467596209:web:051c2d2fba332176496990",measurementId:"G-LXNLZ3BWNH"});var Zn=Vn.a.database(),Yn=function(){var n=Object(Jn.a)(Bn.a.mark((function n(e){var t;return Bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r="contacts",a="name",o=e,Zn.ref(r).orderByChild(a).equalTo(o.name).once("value",(function(n){return n.exists()}));case 3:return t=n.sent,n.next=6,t.val();case 6:return n.abrupt("return",n.sent);case 9:throw n.prev=9,n.t0=n.catch(0),new Error;case 12:case"end":return n.stop()}var r,a,o}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}(),$n=Bn.a.mark(se),ne=Bn.a.mark(le),ee=Bn.a.mark(pe),te=Bn.a.mark(be),re=Bn.a.mark(fe),ae=Bn.a.mark(me),oe=Bn.a.mark(de),ce=function(){var n=Object(Un.b)((function(e){return Zn.ref("contacts").on("value",(function(n){null!==n.val()&&e(n.val())})),function(){return Zn.ref("contacts").off(n)}}));return n},ue=function(n){return Zn.ref("contacts/").push(n)},ie=function(n){return Zn.ref("contacts/").child(n).remove()};function se(){var n,e;return Bn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Gn.c)({type:"FETCH_CONTACTS_REQUEST"});case 2:return t.prev=2,t.next=5,Object(Gn.b)(ce);case 5:return n=t.sent,t.next=8,Object(Gn.d)(n);case 8:return e=t.sent,t.next=11,Object(Gn.c)({type:"FETCH_CONTACTS_SUCCESS",payload:Wn(e)});case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(2),t.next=17,Object(Gn.c)({type:"FETCH_CONTACTS_ERROR",payload:{error:t.t0}});case 17:case"end":return t.stop()}}),$n,null,[[2,13]])}function le(n){var e,t,r;return Bn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.contact,a.next=3,Object(Gn.c)({type:"ADD_CONTACT_REQUEST"});case 3:return a.prev=3,a.next=6,Object(Gn.b)(Yn,e);case 6:if(!a.sent){a.next=11;break}return a.next=10,Object(Gn.b)(xn.b.error,"".concat(e.name," is already in contacts."));case 10:return a.abrupt("return");case 11:return a.next=13,Object(Gn.b)(ue,e);case 13:return t=a.sent,r=t.key,a.next=17,Object(Gn.c)(Mn(Object(s.a)({id:r},e)));case 17:a.next=23;break;case 19:return a.prev=19,a.t0=a.catch(3),a.next=23,Object(Gn.c)({type:"ADD_CONTACT_ERROR",payload:{error:a.t0}});case 23:case"end":return a.stop()}}),ne,null,[[3,19]])}function pe(n){var e;return Bn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.id,t.next=3,Object(Gn.c)({type:"DELETE_CONTACT_REQUEST"});case 3:return t.prev=3,t.next=6,Object(Gn.b)(ie,e);case 6:return t.next=8,Object(Gn.c)(Pn(e));case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(3),t.next=14,Object(Gn.c)({type:"DELETE_CONTACT_ERROR",payload:{error:t.t0}});case 14:case"end":return t.stop()}}),ee,null,[[3,10]])}function be(){return Bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Gn.e)("FETCH_CONTACTS",se);case 2:case"end":return n.stop()}}),te)}function fe(){return Bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Gn.e)("ADD_CONTACT",le);case 2:case"end":return n.stop()}}),re)}function me(){return Bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Gn.e)("DELETE_CONTACT",pe);case 2:case"end":return n.stop()}}),ae)}function de(){return Bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Gn.a)([be(),fe(),me()]);case 2:case"end":return n.stop()}}),oe)}var xe=de,Ee=Object(Fn.combineReducers)({contacts:zn,filter:Qn,loader:Xn,error:In}),Ce=Object(Un.a)(),he=Object(Fn.applyMiddleware)(Ce),ve=Object(Fn.createStore)(Ee,Object(Ln.composeWithDevTools)(he));Ce.run(xe);var Oe=ve;t(139);c.a.render(a.a.createElement(u.a,{store:Oe},a.a.createElement(Dn,null)),document.querySelector("#root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.1670b04c.chunk.js.map