(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{105:function(n,e,t){n.exports=t(140)},139:function(n,e,t){},140:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(29),c=t.n(o),u=t(18),i=t(102),s=t(38),l=t(76),p=t(75),f=p.b().shape({name:p.c().min(3,"Must be longer than 2 characters").max(20,"Nice try, nobody has a first name that long").required("Required"),number:p.a().min(777777,"Must be longer than 6 characters").required("Required")}),b=t(6),m=t(7);function d(){var n=Object(b.a)(["\n  display: block;\n  width: 100%;\n  padding: 10px 5px;\n  font-family: sans-serif;\n  font-size: 14px;\n  line-height: 1.2;\n  font-weight: 400;\n  color: #fff;\n  background-color: rgb(0, 106, 177);\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0px 2px 2px -1px rgba(0, 0, 0, 0.75);\n  transition: all 0.2s ease-in;\n\n  :hover {\n    cursor: pointer;\n    background-color: rgb(19, 19, 138);\n  }\n\n  :disabled {\n    cursor: default;\n    background-color: rgb(85, 85, 85);\n  }\n"]);return d=function(){return n},n}function x(){var n=Object(b.a)(["\n  margin: 0;\n  color: red;\n  margin-bottom: 10px;\n"]);return x=function(){return n},n}function E(){var n=Object(b.a)(["\n  display: block;\n  width: 100%;\n  margin-bottom: 15px;\n  padding: 8px 5px;\n  border-radius: 4px;\n  border: 1px solid rgb(126, 126, 126);\n\n  :focus {\n    border-color: rgb(0, 106, 177);\n    outline: none;\n  }\n"]);return E=function(){return n},n}function h(){var n=Object(b.a)(["\n  font-family: sans-serif;\n  font-size: 16px;\n  line-height: 1.2;\n  font-weight: 500;\n"]);return h=function(){return n},n}function v(){var n=Object(b.a)(["\n  width: 100%;\n  margin-bottom: 20px;\n  padding: 10px;\n  box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.59);\n\n  input[type='number']::-webkit-inner-spin-button,\n  input[type='number']::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n"]);return v=function(){return n},n}var O=m.b.form(v()),g=m.b.label(h()),C=m.b.input(E()),T=m.b.div(x()),y=m.b.button(d()),j=function(n){var e=n.addContact;return a.a.createElement(l.b,{initialValues:{name:"",number:0},validationSchema:f,onSubmit:function(n,t){var r=t.resetForm;e(Object(s.a)({},n)),r({})}},(function(n){var e=n.values,t=n.handleChange,r=n.handleSubmit,o=n.isSubmitting;return a.a.createElement(O,{onSubmit:r},a.a.createElement(g,{htmlFor:"name"},"Name",a.a.createElement(C,{id:"name",type:"text",name:"name",value:e.name,onChange:t,autoComplete:"off"}),a.a.createElement(l.a,{name:"name",component:T})),a.a.createElement(g,{htmlFor:"number"},"Number",a.a.createElement(C,{id:"number",type:"number",name:"number",value:0===e.number?"":e.number,onChange:t,autoComplete:"off"}),a.a.createElement(l.a,{name:"number",component:T})),a.a.createElement(y,{type:"submit",disabled:o},"Add contact"))}))},_=Object(u.b)(null,(function(n){return{addContact:function(e){return n({type:"ADD_CONTACT",contact:e})}}}))(j),w=t(141),S=t(97),A=t.n(S);function R(){var n=Object(b.a)(["\n  padding-top: 25px;\n  text-align: center;\n"]);return R=function(){return n},n}var N=m.b.div(R()),k=(t(133),function(){return a.a.createElement(N,null,a.a.createElement(A.a,{type:"ThreeDots",color:"#13138a",height:50,width:50,timeout:3e3}))});function D(){var n=Object(b.a)(["\n  display: block;\n  padding: 5px 10px;\n  font-family: sans-serif;\n  font-size: 16px;\n  line-height: 1.2;\n  font-weight: 400;\n  color: rgb(255, 255, 255);\n  background-color: rgb(218, 1, 1);\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0px 2px 2px -1px rgba(0, 0, 0, 0.75);\n  transition: all 0.2s ease-in;\n\n  :hover {\n    cursor: pointer;\n    background-color: rgb(170, 0, 0);\n  }\n"]);return D=function(){return n},n}function L(){var n=Object(b.a)(["\n  margin-right: 50px;\n"]);return L=function(){return n},n}function U(){var n=Object(b.a)(["\n  flex: 1 0 auto;\n"]);return U=function(){return n},n}function G(){var n=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return G=function(){return n},n}var z=m.b.div(G()),F=m.b.span(U()),Q=m.b.span(L()),X=m.b.button(D()),I=function(n){var e=n.item,t=e.id,r=e.name,o=e.number,c=n.deleteContact;return a.a.createElement(z,null,a.a.createElement(F,null,r),a.a.createElement(Q,null,o),a.a.createElement(X,{type:"button",onClick:function(){return c(t)}},"\u2716"))},q=Object(u.b)(null,(function(n){return{deleteContact:function(e){return n({type:"DELETE_CONTACT",id:e})}}}))(I);function B(){var n=Object(b.a)(["\n  padding: 10px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.59);\n"]);return B=function(){return n},n}function H(){var n=Object(b.a)(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]);return H=function(){return n},n}var M=m.b.ul(H()),P=(m.b.li(B()),t(51));function W(){var n=Object(b.a)(["\n  padding: 10px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.59);\n\n  &:enter { \n    opacity: 0;\n    transform: translateX(-100%); \n  }\n\n  &:enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 250ms ease-in-out, transform 250ms ease-in-out;\n  }\n\n  &:exit { \n    opacity: 1;\n    transform: translateX(0);\n  }\n\n  &:exit-active {\n    opacity: 0;\n    transform: translateX(-100%);\n    transition: opacity 250ms ease-in-out, transform 250ms ease-in-out;\n  }\n"]);return W=function(){return n},n}var J=P.a.li.attrs({unmountOnExit:!0,timeout:250})(W()),K=function(n){var e=n.contacts,t=n.loader;return a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{component:M},e.map((function(n){return a.a.createElement(J,{key:n.id},a.a.createElement(q,{item:n}))}))),t&&a.a.createElement(k,null))},V=t(99),Z=function(n){return n.filter},Y=function(n){return n.contacts},$=Object(V.a)([Y,Z],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),nn=function(n){return n.loader},en=Object(u.b)((function(n){return{contacts:$(n),loader:nn(n)}}))(K);function tn(){var n=Object(b.a)(["\n  display: block;\n  width: 100%;\n  padding: 8px 5px;\n  border-radius: 4px;\n  border: 1px solid rgb(126, 126, 126);\n\n  :focus {\n    border-color: rgb(0, 106, 177);\n    outline: none;\n  }\n"]);return tn=function(){return n},n}function rn(){var n=Object(b.a)(["\n  font-family: sans-serif;\n  font-size: 16px;\n  line-height: 1.2;\n  font-weight: 500;\n"]);return rn=function(){return n},n}function an(){var n=Object(b.a)(["\n  width: 100%;\n  margin-bottom: 20px;\n  padding: 10px 10px 15px;\n  box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.59);\n"]);return an=function(){return n},n}m.b.div(an());var on=m.b.label(rn()),cn=m.b.input(tn());function un(){var n=Object(b.a)(["\n  width: 100%;\n  margin-bottom: 20px;\n  padding: 10px 10px 15px;\n  box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.59);\n\n  &:enter {\n    transform: scale(0);\n  }\n\n  &:enter-active {\n    transform: scale(1);\n    transition: transform 250ms ease-in-out;\n  }\n\n  &:exit {\n    transform: scale(1);\n  }\n\n  &:exit-active {\n    transform: scale(0);\n    transition: transform 250ms ease-in-out;\n  }\n"]);return un=function(){return n},n}var sn=P.a.div.attrs({unmountOnExit:!0,timeout:250})(un()),ln=function(n){var e=n.contacts,t=n.filter,r=n.changeFilter;return a.a.createElement(sn,{in:e.length>=2},a.a.createElement(on,null,"Find contacts by name",a.a.createElement(cn,{type:"text",value:t,onChange:function(n){return r(n.target.value)}})))},pn={changeFilter:function(n){return{type:"CHANGE_FILTER",payload:n}}},fn=Object(u.b)((function(n){return{contacts:Y(n),filter:Z(n)}}),pn)(ln);function bn(){var n=Object(b.a)(["\n  margin: 0 auto;\n  max-width: 900px;\n  text-align: center;\n  color: rgb(85, 185, 185);\n  font-size: 4rem;\n"]);return bn=function(){return n},n}function mn(){var n=Object(b.a)(["\n  max-width: 100%;\n  height: 100vh;\n  margin: 0;\n  padding-top: 50px;\n  background-color: rgb(0, 106, 177);\n"]);return mn=function(){return n},n}var dn=m.b.div(mn()),xn=m.b.h1(bn()),En=function(){return a.a.createElement(dn,null,a.a.createElement(xn,null,"Something went wrong :( Please try again later."))},hn=t(69);function vn(){var n=Object(b.a)(["\n  top: -5px;\n  right: 37%;\n  padding: 6px 4px;\n  margin: 0;\n  width: 210px;\n  .Toastify__close-button {\n    display: none;\n  }\n"]);return vn=function(){return n},n}function On(){var n=Object(b.a)(["\n  margin: 0 0 10px 0;\n  font-family: sans-serif;\n  font-size: 20px;\n  line-height: 1.2;\n  font-weight: 900;\n  color: rgb(0, 106, 177);\n"]);return On=function(){return n},n}function gn(){var n=Object(b.a)(["\n  margin: 0 0 10px 0;\n  font-family: sans-serif;\n  font-size: 30px;\n  line-height: 1.2;\n  font-weight: 900;\n  color: rgb(0, 106, 177);\n"]);return gn=function(){return n},n}function Cn(){var n=Object(b.a)(["\n  max-width: 400px;\n  min-width: 310px;\n  margin: 0 auto;\n  padding: 30px 5px 0 5px;\n"]);return Cn=function(){return n},n}var Tn=m.b.div(Cn()),yn=m.b.h1(gn()),jn=m.b.h2(On()),_n=Object(m.b)(hn.a)(vn());function wn(){var n=Object(b.a)(["\n  &:enter { \n    opacity: 0;\n    transform: translateX(-100%); \n  }\n\n  &:enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 500ms ease-in-out, transform 500ms ease-in-out;\n  }\n\n  &:exit { \n    opacity: 1;\n    transform: translateX(0);\n  }\n\n  &:exit-active {\n    opacity: 0;\n    transform: translateX(-100%);\n    transition: opacity 500ms ease-in-out, transform 500ms ease-in-out;\n  }\n"]);return wn=function(){return n},n}var Sn=P.a.div.attrs({unmountOnExit:!0,timeout:500})(wn()),An=(t(135),function(n){var e=n.getAllContacts,t=n.error,o=Object(r.useState)(!1),c=Object(i.a)(o,2),u=c[0],s=c[1];return Object(r.useEffect)((function(){s(!0),e()}),[e]),a.a.createElement(a.a.Fragment,null,t?a.a.createElement(En,null):a.a.createElement(Tn,null,a.a.createElement(Sn,{in:u},a.a.createElement(yn,null,"Phonebook")),a.a.createElement(_,null),a.a.createElement(jn,null,"Contacts"),a.a.createElement(fn,null),a.a.createElement(en,null),a.a.createElement(_n,{autoClose:1500})))});An.defaultProps={error:null};var Rn=An,Nn=function(n){return n.error},kn=Object(u.b)((function(n){return{contacts:Y(n),error:Nn(n)}}),(function(n){return{getAllContacts:function(){return n({type:"GET_CONTACTS"})}}}))(Rn),Dn=function(){return a.a.createElement(kn,null)},Ln=t(23),Un=t(100),Gn=t(71),zn=t(77),Fn=function(n){return Object.keys(n).map((function(e){return Object(s.a)({id:e},n[e])}))},Qn=function(n,e){return!!function(n,e){return n.find((function(n){return n.name===e.name}))}(n,e)&&(hn.b.error("".concat(e.name," is already in contacts.")),!0)},Xn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case"GET_CONTACTS_SUCCESS":return[].concat(Object(zn.a)(n),Object(zn.a)(r));case"ADD_CONTACT_SUCCESS":return Qn(n,r)?n:[].concat(Object(zn.a)(n),[r]);case"DELETE_CONTACT_SUCCESS":var a=n.filter((function(n){return n.id!==r}));return a;default:return n}},In=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case"CHANGE_FILTER":return r;default:return n}},qn=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_CONTACTS_REQUEST":case"ADD_CONTACT_REQUEST":case"DELETE_CONTACT_REQUEST":return!0;case"GET_CONTACTS_SUCCESS":case"GET_CONTACTS_ERROR":case"ADD_CONTACT_SUCCESS":case"ADD_CONTACT_ERROR":case"DELETE_CONTACT_SUCCESS":case"DELETE_CONTACT_ERROR":return!1;default:return n}},Bn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,t=e.type,r=e.payload;switch(t){case"GET_CONTACTS_REQUEST":case"ADD_CONTACT_REQUEST":case"DELETE_CONTACT_REQUEST":return null;case"GET_CONTACTS_ERROR":case"ADD_CONTACT_ERROR":case"DELETE_CONTACT_ERROR":return r.error;default:return n}},Hn=t(14),Mn=t.n(Hn),Pn=t(11),Wn=function(n){return{type:"ADD_CONTACT_SUCCESS",payload:n}},Jn=function(n){return{type:"DELETE_CONTACT_SUCCESS",payload:n}},Kn=t(101),Vn=t(82),Zn=t.n(Vn);t(137);Zn.a.initializeApp({apiKey:"AIzaSyB5C9TFen33SpV4L049IwBSWcCyBzTKzmw",authDomain:"redux-async-phonebook.firebaseapp.com",databaseURL:"https://redux-async-phonebook.firebaseio.com",projectId:"redux-async-phonebook",storageBucket:"redux-async-phonebook.appspot.com",messagingSenderId:"213467596209",appId:"1:213467596209:web:051c2d2fba332176496990",measurementId:"G-LXNLZ3BWNH"});var Yn=Zn.a.database(),$n=function(){var n=Object(Kn.a)(Mn.a.mark((function n(e){var t;return Mn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r="contacts",a="name",o=e,Yn.ref(r).orderByChild(a).equalTo(o.name).once("value",(function(n){return n.exists()}));case 3:return t=n.sent,n.next=6,t.val();case 6:return n.abrupt("return",n.sent);case 9:throw n.prev=9,n.t0=n.catch(0),new Error;case 12:case"end":return n.stop()}var r,a,o}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}(),ne=Mn.a.mark(le),ee=Mn.a.mark(pe),te=Mn.a.mark(fe),re=Mn.a.mark(be),ae=Mn.a.mark(me),oe=Mn.a.mark(de),ce=Mn.a.mark(xe),ue=function(){var n=Object(Gn.b)((function(e){return Yn.ref("contacts").on("value",(function(n){null!==n.val()&&e(n.val())})),function(){return Yn.ref("contacts").off(n)}}));return n},ie=function(n){return Yn.ref("contacts/").push(n)},se=function(n){return Yn.ref("contacts/").child(n).remove()};function le(){var n,e;return Mn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Pn.c)({type:"GET_CONTACTS_REQUEST"});case 2:return t.prev=2,t.next=5,Object(Pn.b)(ue);case 5:return n=t.sent,t.next=8,Object(Pn.d)(n);case 8:return e=t.sent,t.next=11,Object(Pn.c)({type:"GET_CONTACTS_SUCCESS",payload:Fn(e)});case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(2),t.next=17,Object(Pn.c)({type:"GET_CONTACTS_ERROR",payload:{error:t.t0}});case 17:case"end":return t.stop()}}),ne,null,[[2,13]])}function pe(n){var e,t,r;return Mn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.contact,a.next=3,Object(Pn.c)({type:"ADD_CONTACT_REQUEST"});case 3:return a.prev=3,a.next=6,Object(Pn.b)($n,e);case 6:if(!a.sent){a.next=11;break}return a.next=10,Object(Pn.c)(Wn(e));case 10:return a.abrupt("return");case 11:return a.next=13,Object(Pn.b)(ie,e);case 13:return t=a.sent,r=t.key,a.next=17,Object(Pn.c)(Wn(Object(s.a)({id:r},e)));case 17:a.next=23;break;case 19:return a.prev=19,a.t0=a.catch(3),a.next=23,Object(Pn.c)({type:"ADD_CONTACT_ERROR",payload:{error:a.t0}});case 23:case"end":return a.stop()}}),ee,null,[[3,19]])}function fe(n){var e;return Mn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.id,t.next=3,Object(Pn.c)({type:"DELETE_CONTACT_REQUEST"});case 3:return t.prev=3,t.next=6,Object(Pn.b)(se,e);case 6:return t.next=8,Object(Pn.c)(Jn(e));case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(3),t.next=14,Object(Pn.c)({type:"DELETE_CONTACT_ERROR",payload:{error:t.t0}});case 14:case"end":return t.stop()}}),te,null,[[3,10]])}function be(){return Mn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Pn.e)("GET_CONTACTS",le);case 2:case"end":return n.stop()}}),re)}function me(){return Mn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Pn.e)("ADD_CONTACT",pe);case 2:case"end":return n.stop()}}),ae)}function de(){return Mn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Pn.e)("DELETE_CONTACT",fe);case 2:case"end":return n.stop()}}),oe)}function xe(){return Mn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Pn.a)([be(),me(),de()]);case 2:case"end":return n.stop()}}),ce)}var Ee=xe,he=Object(Ln.combineReducers)({contacts:Xn,filter:In,loader:qn,error:Bn}),ve=Object(Gn.a)(),Oe=Object(Ln.applyMiddleware)(ve),ge=Object(Ln.createStore)(he,Object(Un.composeWithDevTools)(Oe));ve.run(Ee);var Ce=ge;t(139);c.a.render(a.a.createElement(u.a,{store:Ce},a.a.createElement(Dn,null)),document.querySelector("#root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.6f061e4f.chunk.js.map